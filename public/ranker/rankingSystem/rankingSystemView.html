<div id="raceView" data-ng-controller="RankingSystemCtrl" data-ng-init="findOne()">
    <div class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title">Ranking System</h3>
        </div>
        <div class="panel-body">
            <div data-alert data-ng-repeat="alert in alerts" data-type="alert.type">{{alert.msg}}</div>
            <div data-ng-show="rankingSystem.name">
                <dl class="dl-horizontal-wide">
                    <dt>Name</dt>
                    <dd>{{rankingSystem.name}}</dd>
                    <dt ng-show="rankingSystem.description">Description</dt>
                    <dd ng-show="rankingSystem.description">{{rankingSystem.description}}</dd>
                    <dt ng-show="rankingSystem.equalPositionResolution">Equal placing resolution</dt>
                    <dd ng-show="rankingSystem.equalPositionResolution">{{resolutionLabelForValue(rankingSystem.equalPositionResolution)}}</dd>
                    <dt ng-show="rankingSystem.groupBy.label">Group by label</dt>
                    <dd ng-show="rankingSystem.groupBy.label">{{rankingSystem.groupBy.label}}</dd>
                    <dt ng-show="rankingSystem.groupBy.field">Group by field</dt>
                    <dd ng-show="rankingSystem.groupBy.label">{{rankingSystem.groupBy.field}}</dd>
                    <dt>Created</dt>
                    <dd>{{rankingSystem.createdAt | fromNow}}</dd>
                    <dt>Last updated</dt>
                    <dd>{{rankingSystem.updatedAt | fromNow}}</dd>
                </dl>
                <a ng-show="user" data-ng-href="#/rankingSystem/edit/{{rankingSystem._id}}" class="btn btn-primary"><span class="glyphicon glyphicon-pencil"></span> Edit</a>
                <a ng-show="user" ng-click="copy()" class="btn btn-primary"><span class="glyphicon glyphicon-plus"></span> Copy</a>
                <button ng-show="user" data-ng-click="deleteEntity()" class="btn btn-danger"><span class="glyphicon glyphicon-remove"></span> Delete</button>
            </div>
        </div>
    </div>
    <div class="panel panel-default" data-ng-show="rankingSystem.commonCriteria">
        <div class="panel-heading">
            <h3 class="panel-title">Common Criteria</h3>
        </div>
        <div class="panel-body">
            <table class="table table-striped table-bordered">
                <tbody>
                <tr>
                    <td>
                        <div data-ng-repeat="criteria in rankingSystem.commonCriteria">{{criteria.field}} {{criteria.comparator}} {{criteria.value}}</div>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="panel panel-default" data-ng-show="rankingSystem.pointAllotments">
        <div class="panel-heading">
            <h3 class="panel-title">Point Definitions</h3>
        </div>
        <div class="panel-body">
            <table class="table table-striped table-bordered">
                <thead>
                <tr>
                    <th>Points</th>
                    <th>Criteria</th>
                </tr>
                </thead>
                <tbody>
                <tr data-ng-repeat="allotment in rankingSystem.pointAllotments">
                    <td>{{allotment.points}}</td>
                    <td>
                        <div data-ng-repeat="criteria in allotment.criteria">{{criteria.field}} {{criteria.comparator}} {{criteria.value}}</div>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
    <a data-ng-href="#/rankingSystem">Back to Ranking Systems</a>
</div>