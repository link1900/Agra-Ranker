<div id="greyhoundForm" data-ng-controller="GreyhoundCtrl" data-ng-init="findOne()">
    <div data-alert data-ng-repeat="alert in alerts" data-type="alert.type">{{alert.msg}}</div>
    <div data-ng-show="greyhound" class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title">Editing Greyhound</h3>
        </div>
        <div class="panel-body">
            <form name="greyhoundForm" novalidate>
                <div class="form-group row">
                    <div class="col-md-4">
                        <label class="control-label">Name</label>
                        <div sb-greyhound-name-field data-sb-model="greyhound.name"></div>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-md-6">
                        <label class="control-label" style="width: 100%;">Sire</label>
                        <ui-select ng-model="greyhound.sireRef"
                                   theme="select2"
                                   ng-disabled="disabled"
                                   reset-search-input="false" style="width: 300px;">
                            <ui-select-match placeholder="Select a sire">
                                {{$select.selected.name || greyhound.sireName}}
                            </ui-select-match>
                            <ui-select-choices repeat="greyhound._id as greyhound in searchGreyhounds track by $index"
                                               refresh="refreshGreyhoundSearch($select.search)"
                                               refresh-delay="0">
                                <div ng-bind-html="greyhound.name | highlight: $select.search"></div>
                            </ui-select-choices>
                        </ui-select>
                        <button class="btn btn-default" data-ng-click="clearSire()">Clear</button>
                        <a data-ng-href="#/greyhound/create" class="btn btn-primary">Create New</a>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-md-6">
                        <label class="control-label" style="width: 100%;">Dam</label>
                        <ui-select ng-model="greyhound.damRef"
                                   theme="select2"
                                   ng-disabled="disabled"
                                   reset-search-input="false" style="width: 300px;">
                            <ui-select-match placeholder="Select a dam">
                                {{$select.selected.name || greyhound.damName}}
                            </ui-select-match>
                            <ui-select-choices repeat="greyhound._id as greyhound in searchGreyhounds track by $index"
                                               refresh="refreshGreyhoundSearch($select.search)"
                                               refresh-delay="0">
                                <div ng-bind-html="greyhound.name | highlight: $select.search"></div>
                            </ui-select-choices>
                        </ui-select>
                        <button class="btn btn-default" data-ng-click="clearDam()">Clear</button>
                        <a data-ng-href="#/greyhound/create" class="btn btn-primary">Create New</a>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-md-3">
                        <button data-ng-click="save()" data-ng-disabled="isInvalid(greyhoundForm)" class="btn btn-success"><span data-ng-show="isValid(greyhoundForm)" class="glyphicon glyphicon-ok"></span> Save</button>
                        <button data-ng-click="deleteGreyhound()" class="btn btn-danger"><span class="glyphicon glyphicon-remove"></span> Delete</button>
                        <a data-ng-href="#/greyhound/view/{{greyhound._id}}" class="btn btn-default">Back</a>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <a data-ng-href="#/greyhound">Back to Greyhounds</a>
</div>