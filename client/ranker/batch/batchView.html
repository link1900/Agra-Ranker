<div id="batchView" data-ng-controller="BatchCtrl" data-ng-init="findOne()">
    <div data-alert data-ng-repeat="alert in alerts" data-type="alert.type">{{alert.msg}}</div>
    <div class="panel panel-default" data-ng-show="batch">
        <div class="panel-heading">
            <h3 class="panel-title">Batch Job - {{batch.type}}</h3>
        </div>
        <div class="panel-body">
            <div data-ng-show="batch">
                <dl class="dl-horizontal">
                    <dt ng-show="batch.metadata.fileId">File name</dt>
                    <dd ng-show="batch.metadata.fileId"><a ng-href="#/file/view/{{batch.metadata.fileId}}">{{batch.metadata.fileName}}</a></dd>
                    <dt>Batch type</dt>
                    <dd>{{batch.type}}</dd>
                    <dt>Status</dt>
                    <dd>{{batch.status}}</dd>
                    <dt ng-show="batch.totalDuration">Total processing time</dt>
                    <dd ng-show="batch.totalDuration">{{batch.totalDuration | duration}}</dd>
                    <dt ng-show="batch.totalSuccess">Total successful</dt>
                    <dd ng-show="batch.totalSuccess">{{batch.totalSuccess}}</dd>
                    <dt ng-show="batch.totalFailure">Total failure</dt>
                    <dd ng-show="batch.totalFailure">{{batch.totalFailure}}</dd>
                    <dt>Created</dt>
                    <dd>{{batch.createdAt | fromNow}}</dd>
                    <dt>Last updated</dt>
                    <dd>{{batch.updatedAt | fromNow}}</dd>
                    <dt>Actions</dt>
                    <dd>
                        <button class="btn btn-danger"
                                ng-show="batch.status == 'Awaiting processing'"
                                ng-click="cancelBatch()">
                            <span class="glyphicon glyphicon-stop"></span> Cancel Batch Job
                        </button>
                        <button data-ng-click="deleteBatch()" class="btn btn-danger"><span class="glyphicon glyphicon-remove"></span> Delete Batch Job</button>
                    </dd>
                </dl>
                <div data-ng-include="'ranker/batch/batchResultList.html'"></div>
            </div>
        </div>
    </div>
    <a data-ng-href="#/batch">Back to Batch Jobs</a>
</div>